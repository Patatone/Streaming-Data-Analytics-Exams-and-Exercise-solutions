create schema A (
n int
);
create schema B (
n int
);
create schema C (
n int
);

@Name("Out1")
select a.n, b.n
from pattern[
every a=A -> (b=B and not c=C where timer:within(3 sec))
];

------------------------------------
A={n=1}
t=t.plus(1 seconds)
C={n=1}
t=t.plus(1 seconds)
B={n=1}
t=t.plus(1 seconds)
B={n=2}
t=t.plus(1 seconds)
A={n=2}
t=t.plus(1 seconds)
B={n=3}
t=t.plus(1 seconds)
A={n=3}
t=t.plus(4 seconds)
B={n=4}